# 변형

> 수학 잘하세요? 일단 전 못함.

이제 우리는 객체를 생성하고, 색을 입히고, 텍스처를 사용하여 세부적인 모습을 부여하는 방법을 알게 되었습니다. 하지만 이러한 객체들은 모두 정적인 객체이기 때문에 여전히 그다지 흥미롭지 않습니다. 매 프레임마다 정점을 변경하고 버퍼를 재구성하여 객체를 움직이게 만들 수도 있지만, 이는 번거롭고 상당한 처리 능력을 요구합니다. 객체를 **변형(transform)**{:.g}하는 훨씬 더 나은 방법이 있는데, 바로 (여러 개의) **행렬**{:.g} 객체를 사용하는 것입니다.

!!! note "transform"
    transform은 변형, 변환 등 여러가지 의미로 번역됩니다. 이 번역에서는 변환 또는 변형만 사용하겠습니다.

행렬은 처음에는 다소 어렵게 느껴질 수 있지만, 익숙해지면 매우 유용한 강력한 수학적 개념입니다. 행렬에 대해 이야기하려면 약간의 수학적 개념이 필요하며, 수학에 관심 있는 독자들을 위해 추가 자료를 제공하겠습니다.

하지만 변환을 완전히 이해하려면 행렬을 논하기 전에 벡터에 대해 좀 더 자세히 살펴봐야 합니다. 이 장의 목표는 앞으로 다룰 주제에 대한 기본적인 수학적 배경 지식을 제공하는 것입니다. 내용이 어렵게 느껴지더라도 최대한 이해하려고 노력하고, 필요할 때 언제든 다시 이 장을 참고하여 개념을 복습하세요.

## 벡터

가장 기본적인 정의로, 벡터는 방향 그 자체입니다. 벡터는 **방향(direction)**{:.g}과 **크기(magnitude)**{:.g}(또는 강도나 길이)를 가지고 있습니다. 벡터를 보물지도의 방향처럼 생각해 볼 수 있습니다. '왼쪽으로 10걸음, 북쪽으로 3걸음, 오른쪽으로 5걸음'에서 '왼쪽'은 방향이고 '10걸음'은 벡터의 크기입니다. 따라서 보물지도의 방향은 세 개의 벡터로 이루어져 있습니다. 벡터는 어떤 차원이든 가질 수 있지만, 보통 2차원에서 4차원 벡터를 사용합니다. 벡터가 2차원일 때는 평면상의 방향을 나타내고(2D 그래프를 생각해 보세요), 3차원일 때는 3차원 세계의 어떤 방향이든 나타낼 수 있습니다.

아래 그림에서 각 벡터는 2차원 그래프에서 화살표(x, y)로 표현된 세 개의 벡터를 볼 수 있습니다. 벡터는 3차원보다 2차원으로 나타내는 것이 더 직관적이므로, 이 2차원 벡터들을 az 좌표가 0인 3차원 벡터로 생각할 수 있습니다. 벡터는 방향을 나타내므로 벡터의 원점은 벡터의 값을 바꾸지 않습니다. 아래 그래프에서 벡터 $\color{red}{\vec{v}}$ 와 $\color{blue}{\vec{w}}$ 는 원점이 다르더라도 크기가 같다는 것을 알 수 있습니다.

![](../static/vectors.png)

벡터를 표현할 때 수학자들은 일반적으로 벡터 머리 위에 작은 막대가 있는 기호( $\vec{v}$ )로 나타내는 것을 선호합니다. 또한, 공식에서 벡터를 표시할 때는 일반적으로 다음과 같이 나타냅니다.

\[
\vec{v} =
\begin{pmatrix}
\textcolor{red}{x} \\
\textcolor{green}{y} \\
\textcolor{blue}{z}
\end{pmatrix}
\]

벡터는 방향을 나타내기 때문에 위치로 시각화하기가 어려울 때가 있습니다. 벡터를 위치로 시각화하려면 방향 벡터의 원점을 (0,0,0)으로 설정하고 특정 방향을 가리키는 지점을 나타내는 **위치 벡터**{:.g}를 만들 수 있습니다. (원점을 다르게 지정하고 '이 벡터는 이 원점에서 공간의 저 지점을 가리킨다'라고 표현할 수도 있습니다.) 따라서 위치 벡터 (3,5)는 원점 (0,0)을 기준으로 그래프에서 (3,5)를 가리킵니다. 이처럼 벡터를 사용하면 2차원 및 3차원 공간에서 방향과 위치를 설명할 수 있습니다.

일반 숫자와 마찬가지로 벡터에도 여러 가지 연산을 정의할 수 있습니다(이미 보신 것도 있을 겁니다).

### 스칼라 벡터 연산

**스칼라(scalar)**{:.g}는 한 자리 숫자입니다. 스칼라를 포함하는 벡터를 더하거나 빼거나 곱하거나 나눌 때는 벡터의 각 요소에 스칼라를 더하거나 빼거나 곱하거나 나누면 됩니다. 덧셈의 경우 다음과 같습니다.

\[
\begin{pmatrix}
\textcolor{red}{1} \\
\textcolor{green}{2} \\
\textcolor{blue}{3}
\end{pmatrix}
+ x
\;\rightarrow\;
\begin{pmatrix}
\textcolor{red}{1} \\
\textcolor{green}{2} \\
\textcolor{blue}{3}
\end{pmatrix}
+
\begin{pmatrix}
x \\
x \\
x
\end{pmatrix}
=
\begin{pmatrix}
\textcolor{red}{1} + x \\
\textcolor{green}{2} + x \\
\textcolor{blue}{3} + x
\end{pmatrix}
\]

여기서 $+$는 $+$, $-$, $\cdot$ 또는 $\div$가 될 수 있으며, $\cdot$는 곱셈 연산자입니다.

### 벡터 반전

벡터를 반전시키면 방향이 반대인 벡터가 됩니다. 북동쪽을 가리키는 벡터는 반전 후 남서쪽을 가리키게 됩니다. 벡터를 반전시키려면 각 성분에 마이너스 부호를 붙입니다(스칼라 값 -1을 사용하여 스칼라와 벡터의 곱으로 나타낼 수도 있습니다).

\[
-\vec{v}
=
-
\begin{pmatrix}
\textcolor{red}{v_x} \\
\textcolor{green}{v_y} \\
\textcolor{blue}{v_z}
\end{pmatrix}
=
\begin{pmatrix}
-\textcolor{red}{v_x} \\
-\textcolor{green}{v_y} \\
-\textcolor{blue}{v_z}
\end{pmatrix}
\]


### 덧셈과 뺄셈

두 벡터의 덧셈은 **성분별 덧셈**{:.g}으로 정의됩니다. 즉, 한 벡터의 각 성분을 다른 벡터의 동일한 성분에 더하는 것입니다.

\[
\vec{v}
=
\begin{pmatrix}
\textcolor{red}{1} \\
\textcolor{green}{2} \\
\textcolor{blue}{2}
\end{pmatrix},
\vec{k}
=
\begin{pmatrix}
\textcolor{red}{4} \\
\textcolor{green}{5} \\
\textcolor{blue}{6}
\end{pmatrix}
\;\rightarrow\;
\vec{v} + \vec{k}
=
\begin{pmatrix}
\textcolor{red}{1} + \textcolor{red}{4} \\
\textcolor{green}{2} + \textcolor{green}{5} \\
\textcolor{blue}{3} + \textcolor{blue}{6}
\end{pmatrix}
=
\begin{pmatrix}
\textcolor{red}{5} \\
\textcolor{green}{7} \\
\textcolor{blue}{9}
\end{pmatrix}
\]


시각적으로 보면, 벡터 v=(4,2)와 k=(1,2)에서 두 번째 벡터를 첫 번째 벡터의 끝점 위에 더하여 결과 벡터의 끝점을 찾는 방식(머리-꼬리 방식)과 같습니다.

![](../static/vectors_addition.png)

일반적인 덧셈과 뺄셈처럼, 벡터 뺄셈은 두 번째 벡터의 부호를 반전시킨 덧셈과 같습니다.

\[
\vec{v}
=
\begin{pmatrix}
\textcolor{red}{1} \\
\textcolor{green}{2} \\
\textcolor{blue}{3}
\end{pmatrix},
\quad
\vec{k}
=
\begin{pmatrix}
\textcolor{red}{4} \\
\textcolor{green}{5} \\
\textcolor{blue}{6}
\end{pmatrix}
\;\rightarrow\;
\vec{v} - \vec{k}
=
\begin{pmatrix}
\textcolor{red}{1} + (-\textcolor{red}{4}) \\
\textcolor{green}{2} + (-\textcolor{green}{5}) \\
\textcolor{blue}{3} + (-\textcolor{blue}{6})
\end{pmatrix}
=
\begin{pmatrix}
-\textcolor{red}{3} \\
-\textcolor{green}{3} \\
-\textcolor{blue}{3}
\end{pmatrix}
\]

두 벡터를 서로 빼면 두 벡터가 가리키는 위치의 차이가 되는 벡터가 나옵니다. 이는 두 점 사이의 차이를 나타내는 벡터를 구해야 하는 특정 경우에 유용합니다.

![](../static/vectors_subtraction.png)

### 길이

벡터의 길이/크기를 구하려면 수학 시간에 배웠던 **피타고라스 정리**{:.g}를 사용합니다. 벡터의 x축과 y축 성분을 삼각형의 두 변으로 생각하면 벡터는 삼각형을 이룹니다.

![](../static/vectors_triangle.png)

두 변의 길이(x, y)가 알려져 있고 기울어진 변의 길이 $\color{red}{\vec{v}}$를 알고 싶으므로 피타고라스 정리를 사용하여 다음과 같이 계산할 수 있습니다.

\[
\lVert {\color{red}{\vec{v}}} \rVert
=
\sqrt{\textcolor{green}{x}^2 + \textcolor{blue}{y}^2}
\]

여기서 $\lVert {\color{red}{\vec{v}}} \rVert$는 벡터 $\color{red}{\vec{v}}$의 길이를 나타냅니다. 이는 $z^2$를 추가함으로써 3D로 쉽게 확장할 수 있습니다.

이 경우 벡터 (4, 2)의 길이는 다음과 같습니다.

\[
\lVert {\color{red}{\vec{v}}} \rVert
=
\sqrt{\textcolor{green}{4}^2 + \textcolor{blue}{2}^2}
=
\sqrt{{\textcolor{green}{16}} + {\textcolor{blue}{4}}}
=
\sqrt{20}
\approx 4.47
\]

즉 4.47(근사값)입니다.

벡터에는 특별한 종류가 있는데, 이를 **단위 벡터**{:.g}라고 합니다. 단위 벡터는 길이가 정확히 1이라는 추가적인 특징을 가지고 있습니다. 어떤 벡터든 각 성분을 벡터의 길이로 나누면 단위 벡터 $\hat{n}$을 구할 수 있습니다.

\[
\hat{n}
=
\frac{\vec{v}}{\lVert \vec{v} \rVert}
\]

이를 **벡터 정규화(normalizing)**{:.g}라고 합니다. 단위 벡터는 머리 위에 작은 지붕 모양으로 표시되며, 특히 방향만 중요한 경우(벡터의 길이가 바뀌어도 방향은 변하지 않음) 다루기가 훨씬 쉽습니다.

### 벡터-벡터 곱셈

두 벡터의 곱셈은 다소 특이한 경우입니다. 일반적인 벡터 곱셈은 시각적인 의미가 없기 때문에 명확하게 정의되어 있지 않지만, 곱셈을 할 때 선택할 수 있는 두 가지 특정한 경우가 있습니다. 하나는 내적($\vec{v}\cdot\vec{k}$)이고 다른 하나는 외적($\vec{v}\times\vec{k}$)입니다.
